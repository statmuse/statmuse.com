---
import Logo from '@components/logo.astro'
import AskBar from '@components/ask-bar.svelte'
import DropdownMenu from '@components/dropdown-menu.astro'
import AuthMenu from '@components/auth-menu.svelte'

interface Props {
  query?: string
  conversationToken?: string
  preferredDomain?: string
  money?: boolean
}

const query = Astro.props.query ?? ''
const conversationToken = Astro.props.conversationToken
const preferredDomain = Astro.props.preferredDomain ?? ''
---

<div
  class:list={{
    'flex gap-3 items-center relative': true,
    'min-h-[62px] z-[100]': true,
    'md:bg-gray-7 dark:md:bg-gray-2 bg-team-primary dark:bg-team-primary-dark-bg sticky top-0': true,
    '-mx-3 px-3 md:px-0 md:mx-0': true,
    '': false,
  }}
>
  <div class="flex xl:w-[190px] xl:justify-center shrink-0">
    <DropdownMenu showElephant class="xl:hidden" />
    <a href={Astro.props.money ? '/money' : '/'} class="hidden md:block">
      <Logo class="w-[150px] mx-5" />
    </a>
  </div>
  <div class="col-start-2 col-span-1 flex grow">
    <div class="flex-1 justify-start">
      <AskBar
        client:load
        {query}
        {conversationToken}
        {preferredDomain}
        money={Astro.props.money}
      />
    </div>
  </div>
  <div class="ml-3 justify-end hidden md:block">
    <AuthMenu client:load />
  </div>
</div>
