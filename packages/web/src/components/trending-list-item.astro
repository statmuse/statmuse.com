---
import type { HTMLAttributes } from 'astro/types'
import { type TrendingListItem } from 'src/types'
import Representatives from '@components/representatives.astro'

interface Props extends HTMLAttributes<'li'> {
  item: TrendingListItem
  index: number
  numbered?: boolean
  prominent?: boolean
  eager?: boolean
}

const { item, index, prominent, ...rest } = Astro.props
const numbered = Astro.props.numbered ?? true
const eager = Astro.props.eager ?? false
const representatives = item.images.map((i) => ({ url: i }))
---

<li {...rest}>
  <a
    href={item.uri}
    class:list={{
      flex: true,
      'items-center text-inherit overflow-clip': true,
      'pt-3': numbered,
      'pt-1': !numbered,
    }}
  >
    <div
      class:list={{
        'flex-1 flex gap-3': true,
        'pl-3': !numbered,
      }}
    >
      {
        numbered ? (
          <p class="self-center w-10 flex-shrink-0 text-center">{index + 1}</p>
        ) : null
      }
      <p
        class:list={{
          'self-center leading-5 text-pretty': true,
        }}
        set:html={item.title}
      />
    </div>
    <div
      class:list={{
        'relative flex items-end': true,
      }}
    >
      <Representatives {representatives} />
    </div>
  </a>
</li>
