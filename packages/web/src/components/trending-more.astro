---
import TrendingListItem from '@components/trending-list-item.astro'
import Panel from '@components/panel.astro'
import { type TrendingListItem as Item } from 'src/types'

interface Props {
  items: Item[]
  prominent?: boolean
}

const { items, prominent } = Astro.props
---

<div class="overflow-clip">
  {
    items?.length ? (
      <>
        <ol class="list-none grid grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))] gap-3">
          {items.map((item, index) => (
            <Panel class="break-inside-avoid-column">
              <TrendingListItem
                class="-my-2 -mx-2.5 min-h-[94px] flex items-center"
                numbered={false}
                {item}
                {index}
                {prominent}
              />
            </Panel>
          ))}
        </ol>
      </>
    ) : (
      <Panel class="sm:w-[360px] m-auto">
        <div class="h-96">
          <div class="h-full w-full flex justify-center items-center text-center text-opacity-65">
            <div>
              <p>Gathering data</p>
              <p>Check back later</p>
            </div>
          </div>
        </div>
      </Panel>
    )
  }
</div>
