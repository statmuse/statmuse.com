---
import Icon from './icon.svelte'

const menuLinks = [
  [
    {
      text: 'Profile',
      icon: 'profile',
      url: '/company/about',
      currentUrl: new RegExp('^/company/about$'),
    },
  ],
  [
    {
      text: 'All',
      icon: 'all-home',
      url: '/',
      currentUrl: new RegExp('^/$'),
    },
    {
      text: 'FC',
      icon: 'fc',
      url: '/fc',
      currentUrl: new RegExp('^/fc$'),
    },
    {
      text: 'NBA',
      icon: 'nba',
      url: '/nba',
      currentUrl: new RegExp('^/nba$'),
    },
    {
      text: 'NFL',
      icon: 'nfl',
      url: '/nfl',
      currentUrl: new RegExp('^/nfl$'),
    },
    {
      text: 'NHL',
      icon: 'nhl',
      url: '/nhl',
      currentUrl: new RegExp('^/nhl$'),
    },
    {
      text: 'MLB',
      icon: 'mlb',
      url: '/mlb',
      currentUrl: new RegExp('^/mlb$'),
    },
    {
      text: 'PGA',
      icon: 'pga',
      url: '/pga',
      currentUrl: new RegExp('^/pga$'),
    },
    {
      text: 'Money',
      icon: 'money',
      url: '/money',
      color: 'text-orange',
      currentUrl: new RegExp('^/money$'),
    },
  ],
  [
    {
      text: 'Trending Sports',
      icon: 'trending-sports',
      url: '/trending',
      currentUrl: new RegExp('^(/(nba|nfl|nhl|mlb|pga|fantasy|fc))?/trending$'),
    },
    {
      text: 'Trending Money',
      icon: 'trending-money',
      url: '/money/trending',
      currentUrl: new RegExp('^/money/trending$'),
    },
    {
      text: 'Trending Real-time',
      icon: 'trending-sports',
      url: '/questions',
      currentUrl: new RegExp(
        '^(/(nba|nfl|nhl|mlb|pga|fantasy|fc|money))?/questions$',
      ),
    },
    {
      text: 'Gallery',
      icon: 'gallery',
      url: '/players',
      currentUrl: new RegExp('^(/(nba|nfl|nhl|mlb|pga|fc))?/players$'),
    },
  ],
  [
    {
      text: 'Examples',
      icon: 'search',
      url: '/product/examples',
      currentUrl: new RegExp('^/product/examples(/(nba|nfl|nhl|mlb|pga|fc))?$'),
    },
    {
      text: 'Data & Glossary',
      icon: 'glossary',
      url: '/product/data',
      currentUrl: new RegExp('^/product/data(/(nba|nfl|nhl|mlb|pga|fc))?$'),
    },
  ],
  [
    {
      text: 'Elements of Bball',
      icon: 'elements-of-basketball',
      url: 'https://elementsofbasketball.com/',
      external: true,
    },
    {
      text: 'Harden Maze',
      icon: 'harden',
      url: 'https://hardenmaze.com/',
      external: true,
    },
  ],
  [
    {
      text: 'About',
      icon: 'about',
      url: '/company/about',
      currentUrl: new RegExp('^/company/about$'),
    },
    {
      text: 'Blog',
      icon: 'blog',
      url: 'https://blog.statmuse.com/',
      external: true,
    },
    {
      text: 'Shop',
      icon: 'shop',
      url: 'https://shop.statmuse.com',
      external: true,
    },
  ],
] as {
  text: string
  icon: string
  url: string
  color?: string
  external?: boolean
  currentUrl?: RegExp
}[][]
---

<div class="flex flex-col gap-2 w-[220px] p-3">
  {
    menuLinks.map((links) => (
      <div class="bg-gray-8 rounded-2xl border border-gray-6 p-2.5">
        <ul class="space-y-2">
          {links.map(({ icon, text, url, external, currentUrl, color }) => (
            <li class=''>
              <a
                href={url}
                target={external ? '_blank' : null}
                class:list={{
                  'flex flex-1 items-center gap-2': true,
                  'md:flex-initial': true,
                  'hover:text-teal hover:no-underline': true,
                  'text-teal': currentUrl?.test(Astro.url.pathname),
                  [color ?? 'text-gray-1']: true,
                }}
              >
                <Icon
                  name={icon}
                  class='block w-5 h-5 object-cover',
                />
                {text}
              </a>
            </li>
          ))}
        </ul>
      </div>
    ))
  }
</div>
