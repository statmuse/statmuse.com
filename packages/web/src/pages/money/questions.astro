---
import AskIndex from '@components/ask-index.astro'
import { getFinanceAsksIndex } from '@statmuse/core/ask'
import { parseSearchParams } from '@lib/asks'
import { Caching } from '@lib/caching'

const searchParams = parseSearchParams(Astro.url.searchParams)
const asks = await getFinanceAsksIndex(searchParams)

Caching.swr(Astro)
---

<AskIndex selected="money" {asks} {searchParams} />
