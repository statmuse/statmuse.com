---
import Base from '@layouts/base.astro'
import AditudeAdBanner from '@components/aditude-ad-banner.svelte'
import type { GameraTeamReference } from '@statmuse/core/gamera'

interface Props {
  awayTeam?: GameraTeamReference
  homeTeam?: GameraTeamReference
}

const { awayTeam, homeTeam } = Astro.props
---

<Base headerClass="!bg-gray-6 dark:!bg-gray-4" renderRightColumn={false}>
  <slot name="hero" />
  <div class="md:hidden h-[50px] md:h-[90px] flex justify-center items-center">
    <AditudeAdBanner
      client:only="svelte"
      divId="pb-slot-anchor"
      slotId="pb-slot-anchor"
      placeholderClass="w-[320px] md:w-[728px] h-[50px] md:h-[90px]"
      onlyMobile
    />
  </div>
  <div class:list={['group']}>
    <div
      class="flex gap-1.5 my-2 overflow-x-scroll no-scrollbar -mx-3 px-3"
      slot="tab-list"
    >
      <label
        class:list={{
          'p-1 px-3 text-center whitespace-nowrap border rounded-full': true,
          'bg-gray-6 dark:bg-gray-3 text-gray-5 dark:text-gray-8': true,
          'border-gray-6 dark:border-gray-3': true,
          'group-has-[#game:checked]:bg-gray-7 group-has-[#game:checked]:text-gray-2': true,
        }}
        for="game"
      >
        Game
      </label>
      <label
        class:list={{
          'p-1 px-3 text-center whitespace-nowrap border rounded-full': true,
          'bg-gray-6 dark:bg-gray-3 text-gray-5 dark:text-gray-8': true,
          'border-gray-6 dark:border-gray-3': true,
          'group-has-[#away:checked]:bg-team-primary group-has-[#away:checked]:text-team-secondary': true,
        }}
        style={{
          '--team-primary-color': awayTeam?.colors.backgroundColor,
          '--team-secondary-color': awayTeam?.colors.foregroundColor,
        }}
        for="away"
      >
        {awayTeam?.nickname}
      </label>
      <label
        class:list={{
          'p-1 px-3 text-center whitespace-nowrap border rounded-full': true,
          'bg-gray-6 dark:bg-gray-3 text-gray-5 dark:text-gray-8': true,
          'border-gray-6 dark:border-gray-3': true,
          'group-has-[#home:checked]:bg-team-primary group-has-[#home:checked]:text-team-secondary': true,
        }}
        style={{
          '--team-primary-color': homeTeam?.colors.backgroundColor,
          '--team-secondary-color': homeTeam?.colors.foregroundColor,
        }}
        for="home"
      >
        {homeTeam?.nickname}
      </label>
      {
        Astro.slots.has('plays') && (
          <label
            class:list={{
              'p-1 px-3 text-center whitespace-nowrap border rounded-full': true,
              'bg-gray-6 dark:bg-gray-3 text-gray-5 dark:text-gray-8': true,
              'border-gray-6 dark:border-gray-3': true,
              'group-has-[#plays:checked]:bg-gray-7 group-has-[#plays:checked]:text-gray-2': true,
            }}
            for="plays"
          >
            Plays
          </label>
        )
      }
    </div>
    <div class="hidden has-[#game:checked]:flex flex-col gap-3">
      <input
        class="absolute opacity-0"
        type="radio"
        name="boxscore"
        id="game"
        checked
      />
      <slot name="game" />
    </div>
    <div class="hidden has-[#away:checked]:flex flex-col gap-3">
      <input
        class="absolute opacity-0"
        type="radio"
        name="boxscore"
        id="away"
      />
      <slot name="away" />
    </div>
    <div class="hidden has-[#home:checked]:flex flex-col gap-3">
      <input
        class="absolute opacity-0"
        type="radio"
        name="boxscore"
        id="home"
      />
      <slot name="home" />
    </div>
    {
      Astro.slots.has('plays') && (
        <div class="hidden has-[#plays:checked]:flex flex-col gap-3">
          <input
            class="absolute opacity-0"
            type="radio"
            name="boxscore"
            id="plays"
          />
          <slot name="plays" />
        </div>
      )
    }
  </div>
  <slot />
</Base>
