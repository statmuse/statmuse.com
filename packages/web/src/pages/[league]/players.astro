---
import PlayerGallery from '@components/player-gallery.astro'
import { Caching } from '@lib/caching'
import { leagueToDomain, type LeagueParam } from '@lib/params'
import { getPlayerGalleryList } from '@lib/player'

const league = Astro.params.league as LeagueParam
const domain = leagueToDomain(league)

const players = await getPlayerGalleryList(domain)

Caching.swr(Astro)
---

<PlayerGallery league={domain} {players} />
