---
import Layout from '@layouts/main.astro'
import Header from '@components/header.astro'
import Container from '@components/container.astro'
import Image from '@components/image.astro'
import { Caching } from '@lib/caching'
import { getGame } from '@lib/game'
import { NOT_FOUND_404 } from '@lib/response'
import { type LeagueParam, leagueToDomain } from '@lib/params'
import type { AnalyticsPageviewProperties } from '@lib/analytics'
import { imageForgeUrl } from '@statmuse/core/path'
import { tokensToText } from '@statmuse/core/gamera'
import type {
  GameraEplBoxScore,
  EplHistoricalBoxScore,
} from '@statmuse/core/gamera'
import { orderBy, groupBy } from 'lodash-es'
import Goal from '@components/icons/goal.astro'
import Substitution from '@components/icons/substitution.astro'
import SoccerLineup from '@components/soccer-lineup.astro'
import SubArrow from '@components/icons/sub-arrow.astro'

const league = Astro.params.league as LeagueParam
const game = Astro.params.game
if (!game || !league) return NOT_FOUND_404

const domain = leagueToDomain(league) as 'EPL'
// const data = await getGame({ context: Astro, domain, game })
const data = {
  nlg: {
    text: {
      answer: [
        {
          entity: {
            display: '2023-24 Manchester United',
            domain: 'EPL',
            type: 'teamSeason',
            id: '78/2024',
            baseResourcePath: 'epl/teams/78/2024',
          },
          text: 'Manchester United',
          type: 'entity',
          omitLeadingSpace: true,
        },
        {
          text: 'defeated',
          type: 'general',
          omitLeadingSpace: false,
        },
        {
          entity: {
            display: '2023-24 Aston Villa',
            domain: 'EPL',
            type: 'teamSeason',
            id: '8/2024',
            baseResourcePath: 'epl/teams/8/2024',
          },
          text: 'Aston Villa',
          type: 'entity',
          omitLeadingSpace: false,
        },
        {
          text: ', 3 to 2, on Tuesday.',
          type: 'general',
          omitLeadingSpace: true,
        },
      ],
      promptConversational: 'What else?',
    },
    ssml: {
      answer: 'Manchester United defeated Aston Villa, 3 to 2, on Tuesday.',
      promptConversational: 'What else?',
      repromptConversational: 'What else?',
    },
  },
  visual: {
    domain: 'EPL',
    summary: {
      answer: [
        {
          entity: {
            display: '2023-24 Manchester United',
            domain: 'EPL',
            type: 'teamSeason',
            id: '78/2024',
            baseResourcePath: 'epl/teams/78/2024',
          },
          text: 'Manchester United',
          type: 'entity',
          omitLeadingSpace: true,
        },
        {
          text: 'defeated',
          type: 'general',
          omitLeadingSpace: false,
        },
        {
          entity: {
            display: '2023-24 Aston Villa',
            domain: 'EPL',
            type: 'teamSeason',
            id: '8/2024',
            baseResourcePath: 'epl/teams/8/2024',
          },
          text: 'Aston Villa',
          type: 'entity',
          omitLeadingSpace: false,
        },
        {
          text: ', 3 to 2, on Tuesday.',
          type: 'general',
          omitLeadingSpace: true,
        },
      ],
      subject: {
        actor: {
          year: 2024,
          ids: [
            {
              id: '35a77816-fbe2-4604-ac26-ac7e474699b5',
              type: 'team',
            },
            {
              id: '001843b8-ac4b-4bd4-854d-13f0c253da07',
              type: 'league',
            },
          ],
        },
        imageUrl:
          'https://cdn.statmuse.com/img/epl/players/man-united-marcus-rashford-min--rdjn30ej.png',
        colors: {
          foreground: '#FFFFFF',
          background: '#B6261A',
        },
        entities: [
          {
            display: '2023-24 Manchester United',
            domain: 'EPL',
            type: 'teamSeason',
            id: '78/2024',
            baseResourcePath: 'epl/teams/78/2024',
          },
        ],
      },
      text: [
        {
          text: 'Manchester United defeated Aston Villa, 3 to 2, on Tuesday.',
          type: 'general',
          omitLeadingSpace: true,
        },
      ],
    },
    detail: [
      {
        gameId: 11451,
        completedGameStatus: 'FT',
        gameDate: '2023-12-26',
        homeTeam: {
          name: 'Manchester United',
          shortName: 'Man United',
          abbrev: 'MUN',
          record: '10-1-8',
          score: 3,
          logoUrl:
            'https://cdn.statmuse.com/img/epl/players/manchester-united-1998-logo-min--6x6paozk.png',
          entity: {
            display: '2023-24 Manchester United',
            domain: 'EPL',
            type: 'teamSeason',
            id: '78/2024',
            baseResourcePath: 'epl/teams/78/2024',
          },
          lineup: [
            {
              entity: {
                display: 'Aaron Wan-Bissaka',
                domain: 'EPL',
                type: 'player',
                id: '21',
                baseResourcePath: 'epl/players/21',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 2,
              shirtNumber: 29,
            },
            {
              entity: {
                display: 'Bruno Fernandes',
                domain: 'EPL',
                type: 'player',
                id: '795',
                baseResourcePath: 'epl/players/795',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/man-united-bruno-fernandes-min--xv_fmwlt.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: true,
              isStarter: true,
              isCaptain: true,
              formationIndex: 9,
              shirtNumber: 8,
            },
            {
              entity: {
                display: 'Christian Eriksen',
                domain: 'EPL',
                type: 'player',
                id: '1043',
                baseResourcePath: 'epl/players/1043',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 7,
              shirtNumber: 14,
            },
            {
              entity: {
                display: 'Diogo Dalot',
                domain: 'EPL',
                type: 'player',
                id: '1663',
                baseResourcePath: 'epl/players/1663',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 5,
              shirtNumber: 20,
            },
            {
              entity: {
                display: 'Donny van de Beek',
                domain: 'EPL',
                type: 'player',
                id: '1704',
                baseResourcePath: 'epl/players/1704',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 34,
            },
            {
              entity: {
                display: 'Facundo Pellistri',
                domain: 'EPL',
                type: 'player',
                id: '1927',
                baseResourcePath: 'epl/players/1927',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 28,
            },
            {
              entity: {
                display: 'Hannibal Mejbri',
                domain: 'EPL',
                type: 'player',
                id: '2349',
                baseResourcePath: 'epl/players/2349',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 46,
            },
            {
              entity: {
                display: 'Jonny Evans',
                domain: 'EPL',
                type: 'player',
                id: '3170',
                baseResourcePath: 'epl/players/3170',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 4,
              shirtNumber: 35,
            },
            {
              entity: {
                display: 'Marcus Rashford',
                domain: 'EPL',
                type: 'player',
                id: '4007',
                baseResourcePath: 'epl/players/4007',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/man-united-marcus-rashford-min--rdjn30ej.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: true,
              isStarter: true,
              isCaptain: false,
              formationIndex: 10,
              shirtNumber: 10,
            },
            {
              entity: {
                display: 'Raphaël Varane',
                domain: 'EPL',
                type: 'player',
                id: '5233',
                baseResourcePath: 'epl/players/5233',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 3,
              shirtNumber: 19,
            },
            {
              entity: {
                display: 'Scott McTominay',
                domain: 'EPL',
                type: 'player',
                id: '5710',
                baseResourcePath: 'epl/players/5710',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 39,
            },
            {
              entity: {
                display: 'Sergio Reguilón',
                domain: 'EPL',
                type: 'player',
                id: '5782',
                baseResourcePath: 'epl/players/5782',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 15,
            },
            {
              entity: {
                display: 'Altay Bayındır',
                domain: 'EPL',
                type: 'player',
                id: '6969',
                baseResourcePath: 'epl/players/6969',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 1,
            },
            {
              entity: {
                display: 'André Onana',
                domain: 'EPL',
                type: 'player',
                id: '6970',
                baseResourcePath: 'epl/players/6970',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 1,
              shirtNumber: 24,
            },
            {
              entity: {
                display: 'Daniel Gore',
                domain: 'EPL',
                type: 'player',
                id: '6975',
                baseResourcePath: 'epl/players/6975',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 44,
            },
            {
              entity: {
                display: 'Rasmus Højlund',
                domain: 'EPL',
                type: 'player',
                id: '6978',
                baseResourcePath: 'epl/players/6978',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 11,
              shirtNumber: 11,
            },
            {
              entity: {
                display: 'Antony',
                domain: 'EPL',
                type: 'player',
                id: '6979',
                baseResourcePath: 'epl/players/6979',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 21,
            },
            {
              entity: {
                display: 'Alejandro Garnacho',
                domain: 'EPL',
                type: 'player',
                id: '6980',
                baseResourcePath: 'epl/players/6980',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 8,
              shirtNumber: 17,
            },
            {
              entity: {
                display: 'Kobbie Mainoo',
                domain: 'EPL',
                type: 'player',
                id: '7063',
                baseResourcePath: 'epl/players/7063',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 6,
              shirtNumber: 37,
            },
            {
              entity: {
                display: 'Willy Kambwala',
                domain: 'EPL',
                type: 'player',
                id: '7553',
                baseResourcePath: 'epl/players/7553',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#FFFFFF',
                backgroundColor: '#B6261A',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 53,
            },
          ],
        },
        awayTeam: {
          name: 'Aston Villa',
          shortName: 'Aston Villa',
          abbrev: 'AVL',
          record: '12-3-4',
          score: 2,
          logoUrl:
            'https://cdn.statmuse.com/img/epl/players/aston-villa-2023-logo-min--eiocpnkf.png',
          entity: {
            display: '2023-24 Aston Villa',
            domain: 'EPL',
            type: 'teamSeason',
            id: '8/2024',
            baseResourcePath: 'epl/teams/8/2024',
          },
          lineup: [
            {
              entity: {
                display: 'Calum Chambers',
                domain: 'EPL',
                type: 'player',
                id: '850',
                baseResourcePath: 'epl/players/850',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 16,
            },
            {
              entity: {
                display: 'Douglas Luiz',
                domain: 'EPL',
                type: 'player',
                id: '1714',
                baseResourcePath: 'epl/players/1714',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 7,
              shirtNumber: 6,
            },
            {
              entity: {
                display: 'Emiliano Martínez',
                domain: 'EPL',
                type: 'player',
                id: '1827',
                baseResourcePath: 'epl/players/1827',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 1,
              shirtNumber: 1,
            },
            {
              entity: {
                display: 'Ezri Konsa',
                domain: 'EPL',
                type: 'player',
                id: '1901',
                baseResourcePath: 'epl/players/1901',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 2,
              shirtNumber: 4,
            },
            {
              entity: {
                display: 'Jacob Ramsey',
                domain: 'EPL',
                type: 'player',
                id: '2605',
                baseResourcePath: 'epl/players/2605',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 10,
              shirtNumber: 41,
            },
            {
              entity: {
                display: 'John McGinn',
                domain: 'EPL',
                type: 'player',
                id: '3072',
                baseResourcePath: 'epl/players/3072',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: true,
              formationIndex: 9,
              shirtNumber: 7,
            },
            {
              entity: {
                display: 'Leander Dendoncker',
                domain: 'EPL',
                type: 'player',
                id: '3632',
                baseResourcePath: 'epl/players/3632',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 6,
              shirtNumber: 32,
            },
            {
              entity: {
                display: 'Leon Bailey',
                domain: 'EPL',
                type: 'player',
                id: '3711',
                baseResourcePath: 'epl/players/3711',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 8,
              shirtNumber: 31,
            },
            {
              entity: {
                display: 'Lucas Digne',
                domain: 'EPL',
                type: 'player',
                id: '3829',
                baseResourcePath: 'epl/players/3829',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 5,
              shirtNumber: 12,
            },
            {
              entity: {
                display: 'Ollie Watkins',
                domain: 'EPL',
                type: 'player',
                id: '4839',
                baseResourcePath: 'epl/players/4839',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/aston-villa-ollie-watkins-min--vhlpjybz.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: true,
              isStarter: true,
              isCaptain: false,
              formationIndex: 11,
              shirtNumber: 11,
            },
            {
              entity: {
                display: 'Tim Iroegbunam',
                domain: 'EPL',
                type: 'player',
                id: '6228',
                baseResourcePath: 'epl/players/6228',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 47,
            },
            {
              entity: {
                display: 'Filip Marshall',
                domain: 'EPL',
                type: 'player',
                id: '6832',
                baseResourcePath: 'epl/players/6832',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 42,
            },
            {
              entity: {
                display: 'Clément Lenglet',
                domain: 'EPL',
                type: 'player',
                id: '6834',
                baseResourcePath: 'epl/players/6834',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 4,
              shirtNumber: 17,
            },
            {
              entity: {
                display: 'Pau Torres',
                domain: 'EPL',
                type: 'player',
                id: '6836',
                baseResourcePath: 'epl/players/6836',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 14,
            },
            {
              entity: {
                display: 'Alex Moreno',
                domain: 'EPL',
                type: 'player',
                id: '6837',
                baseResourcePath: 'epl/players/6837',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 15,
            },
            {
              entity: {
                display: 'Diego Carlos',
                domain: 'EPL',
                type: 'player',
                id: '6839',
                baseResourcePath: 'epl/players/6839',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: true,
              isCaptain: false,
              formationIndex: 3,
              shirtNumber: 3,
            },
            {
              entity: {
                display: 'Nicolò Zaniolo',
                domain: 'EPL',
                type: 'player',
                id: '6840',
                baseResourcePath: 'epl/players/6840',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 22,
            },
            {
              entity: {
                display: 'Moussa Diaby',
                domain: 'EPL',
                type: 'player',
                id: '6842',
                baseResourcePath: 'epl/players/6842',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 19,
            },
            {
              entity: {
                display: 'Jhon Durán',
                domain: 'EPL',
                type: 'player',
                id: '6843',
                baseResourcePath: 'epl/players/6843',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 24,
            },
            {
              entity: {
                display: 'Sam Proctor',
                domain: 'EPL',
                type: 'player',
                id: '7552',
                baseResourcePath: 'epl/players/7552',
              },
              imageUrl:
                'https://cdn.statmuse.com/img/epl/players/epl-silhouette-min--c8gxw-uu.png',
              colors: {
                foregroundColor: '#99BCE3',
                backgroundColor: '#5E0E35',
              },
              hasBustImage: false,
              isStarter: false,
              isCaptain: false,
              shirtNumber: 78,
            },
          ],
        },
        teamDetail: {
          homeTeam: {
            formation: '4-2-3-1',
            goals: '3',
            assists: '1',
            shots: '13',
            shotsOnTarget: '7',
            saves: '1',
            tackles: '21',
            fouls: '10',
            yellowCards: '1',
            redCards: '0',
            possessionPercentage: '46',
            touches: '591',
            passes: '395',
            passesCompleted: '318',
            offsides: '9',
            corners: '3',
          },
          awayTeam: {
            formation: '4-2-3-1',
            goals: '2',
            assists: '1',
            shots: '10',
            shotsOnTarget: '4',
            saves: '4',
            tackles: '14',
            fouls: '10',
            yellowCards: '3',
            redCards: '0',
            possessionPercentage: '54',
            touches: '642',
            passes: '452',
            passesCompleted: '373',
            offsides: '0',
            corners: '6',
          },
        },
        playerDetail: {
          homeTeam: {
            team: 'MUN',
            grids: [
              {
                name: 'Player Stats',
                columns: [
                  {
                    rowItemKey: 'NAME',
                    title: 'NAME',
                    type: 'string',
                  },
                  {
                    rowItemKey: 'MIN',
                    title: 'MIN',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'G',
                    title: 'G',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'A',
                    title: 'A',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'SH',
                    title: 'SH',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'ST',
                    title: 'ST',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'FOUL',
                    title: 'FOUL',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'FOULED',
                    title: 'FOULED',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'YC',
                    title: 'YC',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'RC',
                    title: 'RC',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'SV',
                    title: 'SV',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'OG',
                    title: 'OG',
                    type: 'number',
                  },
                ],
                rows: [
                  {
                    NAME: {
                      value: 'Dalot, Diogo',
                      display: 'Diogo Dalot',
                      entity: {
                        display: 'Diogo Dalot',
                        domain: 'EPL',
                        type: 'player',
                        id: '1663',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/1663',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 1,
                      display: '1',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Eriksen, Christian',
                      display: 'Christian Eriksen',
                      entity: {
                        display: 'Christian Eriksen',
                        domain: 'EPL',
                        type: 'player',
                        id: '1043',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/1043',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 2,
                      display: '2',
                    },
                    ST: {
                      value: 1,
                      display: '1',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Evans, Jonny',
                      display: 'Jonny Evans',
                      entity: {
                        display: 'Jonny Evans',
                        domain: 'EPL',
                        type: 'player',
                        id: '3170',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/3170',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Fernandes, Bruno',
                      display: 'Bruno Fernandes',
                      entity: {
                        display: 'Bruno Fernandes',
                        domain: 'EPL',
                        type: 'player',
                        id: '795',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/795',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 2,
                      display: '2',
                    },
                    ST: {
                      value: 1,
                      display: '1',
                    },
                    FOUL: {
                      value: 2,
                      display: '2',
                    },
                    FOULED: {
                      value: 2,
                      display: '2',
                    },
                    YC: {
                      value: 1,
                      display: '1',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Garnacho Ferreira, Alejandro',
                      display: 'Alejandro Garnacho',
                      entity: {
                        display: 'Alejandro Garnacho',
                        domain: 'EPL',
                        type: 'player',
                        id: '6980',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6980',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 2,
                      display: '2',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 4,
                      display: '4',
                    },
                    ST: {
                      value: 2,
                      display: '2',
                    },
                    FOUL: {
                      value: 2,
                      display: '2',
                    },
                    FOULED: {
                      value: 3,
                      display: '3',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Højlund, Rasmus',
                      display: 'Rasmus Højlund',
                      entity: {
                        display: 'Rasmus Højlund',
                        domain: 'EPL',
                        type: 'player',
                        id: '6978',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6978',
                      },
                    },
                    MIN: {
                      value: 89,
                      display: '89',
                    },
                    G: {
                      value: 1,
                      display: '1',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 1,
                      display: '1',
                    },
                    ST: {
                      value: 1,
                      display: '1',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 2,
                      display: '2',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Mainoo, Kobbie',
                      display: 'Kobbie Mainoo',
                      entity: {
                        display: 'Kobbie Mainoo',
                        domain: 'EPL',
                        type: 'player',
                        id: '7063',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/7063',
                      },
                    },
                    MIN: {
                      value: 81,
                      display: '81',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Onana, André',
                      display: 'André Onana',
                      entity: {
                        display: 'André Onana',
                        domain: 'EPL',
                        type: 'player',
                        id: '6970',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6970',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 1,
                      display: '1',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Rashford, Marcus',
                      display: 'Marcus Rashford',
                      entity: {
                        display: 'Marcus Rashford',
                        domain: 'EPL',
                        type: 'player',
                        id: '4007',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/4007',
                      },
                    },
                    MIN: {
                      value: 80,
                      display: '80',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 1,
                      display: '1',
                    },
                    SH: {
                      value: 3,
                      display: '3',
                    },
                    ST: {
                      value: 2,
                      display: '2',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Varane, Raphaël',
                      display: 'Raphaël Varane',
                      entity: {
                        display: 'Raphaël Varane',
                        domain: 'EPL',
                        type: 'player',
                        id: '5233',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/5233',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Wan-Bissaka, Aaron',
                      display: 'Aaron Wan-Bissaka',
                      entity: {
                        display: 'Aaron Wan-Bissaka',
                        domain: 'EPL',
                        type: 'player',
                        id: '21',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/21',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Gore, Daniel',
                      display: 'Daniel Gore',
                      entity: {
                        display: 'Daniel Gore',
                        domain: 'EPL',
                        type: 'player',
                        id: '6975',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6975',
                      },
                    },
                    MIN: {
                      value: 1,
                      display: '1',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Kambwalandengushi, Willy',
                      display: 'Willy Kambwala',
                      entity: {
                        display: 'Willy Kambwala',
                        domain: 'EPL',
                        type: 'player',
                        id: '7553',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/7553',
                      },
                    },
                    MIN: {
                      value: 1,
                      display: '1',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'McTominay, Scott',
                      display: 'Scott McTominay',
                      entity: {
                        display: 'Scott McTominay',
                        domain: 'EPL',
                        type: 'player',
                        id: '5710',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/5710',
                      },
                    },
                    MIN: {
                      value: 9,
                      display: '9',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Mejbri, Hannibal',
                      display: 'Hannibal Mejbri',
                      entity: {
                        display: 'Hannibal Mejbri',
                        domain: 'EPL',
                        type: 'player',
                        id: '2349',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/2349',
                      },
                    },
                    MIN: {
                      value: 1,
                      display: '1',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'dos Santos, Antony',
                      display: 'Antony',
                      entity: {
                        display: 'Antony',
                        domain: 'EPL',
                        type: 'player',
                        id: '6979',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6979',
                      },
                    },
                    MIN: {
                      value: 10,
                      display: '10',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                ],
              },
            ],
          },
          awayTeam: {
            team: 'AVL',
            grids: [
              {
                name: 'Player Stats',
                columns: [
                  {
                    rowItemKey: 'NAME',
                    title: 'NAME',
                    type: 'string',
                  },
                  {
                    rowItemKey: 'MIN',
                    title: 'MIN',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'G',
                    title: 'G',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'A',
                    title: 'A',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'SH',
                    title: 'SH',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'ST',
                    title: 'ST',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'FOUL',
                    title: 'FOUL',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'FOULED',
                    title: 'FOULED',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'YC',
                    title: 'YC',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'RC',
                    title: 'RC',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'SV',
                    title: 'SV',
                    type: 'number',
                  },
                  {
                    rowItemKey: 'OG',
                    title: 'OG',
                    type: 'number',
                  },
                ],
                rows: [
                  {
                    NAME: {
                      value: 'Bailey, Leon',
                      display: 'Leon Bailey',
                      entity: {
                        display: 'Leon Bailey',
                        domain: 'EPL',
                        type: 'player',
                        id: '3711',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/3711',
                      },
                    },
                    MIN: {
                      value: 77,
                      display: '77',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 2,
                      display: '2',
                    },
                    ST: {
                      value: 1,
                      display: '1',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Dendoncker, Leander',
                      display: 'Leander Dendoncker',
                      entity: {
                        display: 'Leander Dendoncker',
                        domain: 'EPL',
                        type: 'player',
                        id: '3632',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/3632',
                      },
                    },
                    MIN: {
                      value: 86,
                      display: '86',
                    },
                    G: {
                      value: 1,
                      display: '1',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 1,
                      display: '1',
                    },
                    ST: {
                      value: 1,
                      display: '1',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Digne, Lucas',
                      display: 'Lucas Digne',
                      entity: {
                        display: 'Lucas Digne',
                        domain: 'EPL',
                        type: 'player',
                        id: '3829',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/3829',
                      },
                    },
                    MIN: {
                      value: 50,
                      display: '50',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Konsa, Ezri',
                      display: 'Ezri Konsa',
                      entity: {
                        display: 'Ezri Konsa',
                        domain: 'EPL',
                        type: 'player',
                        id: '1901',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/1901',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 1,
                      display: '1',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 4,
                      display: '4',
                    },
                    YC: {
                      value: 1,
                      display: '1',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Lenglet, Clément',
                      display: 'Clément Lenglet',
                      entity: {
                        display: 'Clément Lenglet',
                        domain: 'EPL',
                        type: 'player',
                        id: '6834',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6834',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 1,
                      display: '1',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Luiz, Douglas',
                      display: 'Douglas Luiz',
                      entity: {
                        display: 'Douglas Luiz',
                        domain: 'EPL',
                        type: 'player',
                        id: '1714',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/1714',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 1,
                      display: '1',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Martínez, Emiliano',
                      display: 'Emiliano Martínez',
                      entity: {
                        display: 'Emiliano Martínez',
                        domain: 'EPL',
                        type: 'player',
                        id: '1827',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/1827',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 4,
                      display: '4',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'McGinn, John',
                      display: 'John McGinn',
                      entity: {
                        display: 'John McGinn',
                        domain: 'EPL',
                        type: 'player',
                        id: '3072',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/3072',
                      },
                    },
                    MIN: {
                      value: 86,
                      display: '86',
                    },
                    G: {
                      value: 1,
                      display: '1',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 3,
                      display: '3',
                    },
                    ST: {
                      value: 2,
                      display: '2',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Ramsey, Jacob',
                      display: 'Jacob Ramsey',
                      entity: {
                        display: 'Jacob Ramsey',
                        domain: 'EPL',
                        type: 'player',
                        id: '2605',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/2605',
                      },
                    },
                    MIN: {
                      value: 77,
                      display: '77',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 1,
                      display: '1',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 1,
                      display: '1',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Santos Silva, Diego',
                      display: 'Diego Carlos',
                      entity: {
                        display: 'Diego Carlos',
                        domain: 'EPL',
                        type: 'player',
                        id: '6839',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6839',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 1,
                      display: '1',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 2,
                      display: '2',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 1,
                      display: '1',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Watkins, Ollie',
                      display: 'Ollie Watkins',
                      entity: {
                        display: 'Ollie Watkins',
                        domain: 'EPL',
                        type: 'player',
                        id: '4839',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/4839',
                      },
                    },
                    MIN: {
                      value: 90,
                      display: '90',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Diaby, Moussa',
                      display: 'Moussa Diaby',
                      entity: {
                        display: 'Moussa Diaby',
                        domain: 'EPL',
                        type: 'player',
                        id: '6842',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6842',
                      },
                    },
                    MIN: {
                      value: 13,
                      display: '13',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Durán Palacio, Jhon',
                      display: 'Jhon Durán',
                      entity: {
                        display: 'Jhon Durán',
                        domain: 'EPL',
                        type: 'player',
                        id: '6843',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6843',
                      },
                    },
                    MIN: {
                      value: 4,
                      display: '4',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Iroegbunam, Tim',
                      display: 'Tim Iroegbunam',
                      entity: {
                        display: 'Tim Iroegbunam',
                        domain: 'EPL',
                        type: 'player',
                        id: '6228',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6228',
                      },
                    },
                    MIN: {
                      value: 4,
                      display: '4',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 1,
                      display: '1',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Moreno Lopera, Alexandre',
                      display: 'Alex Moreno',
                      entity: {
                        display: 'Alex Moreno',
                        domain: 'EPL',
                        type: 'player',
                        id: '6837',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6837',
                      },
                    },
                    MIN: {
                      value: 40,
                      display: '40',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 0,
                      display: '0',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                  {
                    NAME: {
                      value: 'Zaniolo, Nicolò',
                      display: 'Nicolò Zaniolo',
                      entity: {
                        display: 'Nicolò Zaniolo',
                        domain: 'EPL',
                        type: 'player',
                        id: '6840',
                        parameters: {
                          seasonYear: 2024,
                        },
                        baseResourcePath: 'epl/players/6840',
                      },
                    },
                    MIN: {
                      value: 13,
                      display: '13',
                    },
                    G: {
                      value: 0,
                      display: '0',
                    },
                    A: {
                      value: 0,
                      display: '0',
                    },
                    SH: {
                      value: 0,
                      display: '0',
                    },
                    ST: {
                      value: 0,
                      display: '0',
                    },
                    FOUL: {
                      value: 1,
                      display: '1',
                    },
                    FOULED: {
                      value: 0,
                      display: '0',
                    },
                    YC: {
                      value: 0,
                      display: '0',
                    },
                    RC: {
                      value: 0,
                      display: '0',
                    },
                    SV: {
                      value: 0,
                      display: '0',
                    },
                    OG: {
                      value: 0,
                      display: '0',
                    },
                  },
                ],
              },
            ],
          },
        },
        gameSummary: [
          {
            eventType: 'goal',
            period: '1st Half',
            minute: "21'",
            team: 'Aston Villa',
            playerName: 'John McGinn',
            homeTeamScore: 0,
            awayTeamScore: 1,
          },
          {
            eventType: 'goal',
            period: '1st Half',
            minute: "26'",
            team: 'Aston Villa',
            playerName: 'Leander Dendoncker',
            relatedPlayerName: 'Clément Lenglet',
            homeTeamScore: 0,
            awayTeamScore: 2,
          },
          {
            eventType: 'yellow_card',
            period: '1st Half',
            minute: "45'+2'",
            team: 'Aston Villa',
            playerName: 'Jacob Ramsey',
            homeTeamScore: 0,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "50'",
            team: 'Aston Villa',
            playerName: 'Alex Moreno',
            relatedPlayerName: 'Lucas Digne',
            homeTeamScore: 0,
            awayTeamScore: 2,
          },
          {
            eventType: 'goal',
            period: '2nd Half',
            minute: "59'",
            team: 'Manchester United',
            playerName: 'Alejandro Garnacho',
            relatedPlayerName: 'Marcus Rashford',
            homeTeamScore: 1,
            awayTeamScore: 2,
          },
          {
            eventType: 'goal',
            period: '2nd Half',
            minute: "71'",
            team: 'Manchester United',
            playerName: 'Alejandro Garnacho',
            homeTeamScore: 2,
            awayTeamScore: 2,
          },
          {
            eventType: 'yellow_card',
            period: '2nd Half',
            minute: "73'",
            team: 'Manchester United',
            playerName: 'Bruno Fernandes',
            homeTeamScore: 2,
            awayTeamScore: 2,
          },
          {
            eventType: 'yellow_card',
            period: '2nd Half',
            minute: "74'",
            team: 'Aston Villa',
            playerName: 'Diego Carlos',
            homeTeamScore: 2,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "77'",
            team: 'Aston Villa',
            playerName: 'Moussa Diaby',
            relatedPlayerName: 'Jacob Ramsey',
            homeTeamScore: 2,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "77'",
            team: 'Aston Villa',
            playerName: 'Nicolò Zaniolo',
            relatedPlayerName: 'Leon Bailey',
            homeTeamScore: 2,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "80'",
            team: 'Manchester United',
            playerName: 'Antony',
            relatedPlayerName: 'Marcus Rashford',
            homeTeamScore: 2,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "81'",
            team: 'Manchester United',
            playerName: 'Scott McTominay',
            relatedPlayerName: 'Kobbie Mainoo',
            homeTeamScore: 2,
            awayTeamScore: 2,
          },
          {
            eventType: 'goal',
            period: '2nd Half',
            minute: "82'",
            team: 'Manchester United',
            playerName: 'Rasmus Højlund',
            homeTeamScore: 3,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "86'",
            team: 'Aston Villa',
            playerName: 'Tim Iroegbunam',
            relatedPlayerName: 'Leander Dendoncker',
            homeTeamScore: 3,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "86'",
            team: 'Aston Villa',
            playerName: 'Jhon Durán',
            relatedPlayerName: 'John McGinn',
            homeTeamScore: 3,
            awayTeamScore: 2,
          },
          {
            eventType: 'yellow_card',
            period: '2nd Half',
            minute: "87'",
            team: 'Aston Villa',
            playerName: 'Ezri Konsa',
            homeTeamScore: 3,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "89'",
            team: 'Manchester United',
            playerName: 'Willy Kambwala',
            relatedPlayerName: 'Rasmus Højlund',
            homeTeamScore: 3,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "90'+4'",
            team: 'Manchester United',
            playerName: 'Daniel Gore',
            relatedPlayerName: 'Christian Eriksen',
            homeTeamScore: 3,
            awayTeamScore: 2,
          },
          {
            eventType: 'substitution',
            period: '2nd Half',
            minute: "90'+5'",
            team: 'Manchester United',
            playerName: 'Hannibal Mejbri',
            relatedPlayerName: 'Alejandro Garnacho',
            homeTeamScore: 3,
            awayTeamScore: 2,
          },
        ],
        type: 'eplHistoricalBoxScore',
      },
      {
        grids: [
          {
            name: 'game result',
            columns: [
              {
                rowItemKey: 'TEAM',
                title: 'TEAM',
                type: 'string',
              },
              {
                rowItemKey: 'ALIGNMENT',
                title: '',
                type: 'string',
              },
              {
                rowItemKey: 'OPPONENT',
                title: 'OPPONENT',
                type: 'string',
              },
              {
                rowItemKey: 'RESULT',
                title: 'RESULT',
                type: 'number',
              },
              {
                rowItemKey: 'DATE',
                title: 'DATE',
                type: 'date',
              },
            ],
            rows: [
              {
                TEAM: {
                  value: 'Manchester United',
                  display: 'Manchester United',
                },
                ALIGNMENT: {
                  value: 'vs',
                  display: 'vs',
                },
                OPPONENT: {
                  value: 'Aston Villa',
                  display: 'Aston Villa',
                },
                RESULT: {
                  value: 1,
                  display: 'W 3-2',
                },
                DATE: {
                  value: '2023-12-26T00:00:00',
                  display: 'Dec 26, 2023',
                },
              },
            ],
          },
        ],
        type: 'genericGrids',
      },
    ],
    summaryTokens: [
      {
        text: 'GAME ID 11451',
        type: 'general',
        omitLeadingSpace: true,
      },
    ],
    isSuperlative: false,
    additionalQuestions: [
      {
        domain: 'EPL',
        text: 'What are the most yellow cards by a club in a match since 2015?',
      },
      {
        domain: 'EPL',
        text: 'What are the most Premier League goals by an American?',
      },
      {
        domain: 'EPL',
        text: 'What are the most goals in a season by a club?',
      },
      {
        domain: 'EPL',
        text: 'Which player had the most shots on target without a goal in a match?',
      },
      {
        domain: 'EPL',
        text: 'Which player has the most second-half goals this season?',
      },
      {
        domain: 'EPL',
        text: 'What player has the most Premier League titles?',
      },
      {
        domain: 'EPL',
        text: 'Which player has the most career red cards?',
      },
      {
        domain: 'EPL',
        text: 'Who had the fastest goal in a Manchester derby?',
      },
      {
        domain: 'EPL',
        text: 'Who was the last goalkeeper with a goal in a match?',
      },
      {
        domain: 'EPL',
        text: 'What are the most goals in a season by a player?',
      },
    ],
    contentReference: {
      domainTags: {
        domain: 'EPL',
      },
      questionTags: {
        actorType: 'team',
        teamIds: [],
        playerIds: [],
        seasonYears: [],
      },
    },
  },
  conversation: {
    token:
      'GhIJ1VcR_fJtVEERgJKkI9pgIgcikgEKjwEKDwoNR0FNRSBJRCAxMTQ1MRIFCgNFUEwaFQoRTWFuY2hlc3RlciBVbml0ZWQQARoPCgtBc3RvbiBWaWxsYRABMk0KPQo7TWFuY2hlc3RlciBVbml0ZWQgZGVmZWF0ZWQgQXN0b24gVmlsbGEsIDMgdG8gMiwgb24gVHVlc2RheS4SDAoKV2hhdCBlbHNlPygB',
    complete: false,
  },
  disposition: {
    responseType: 'results',
    resultsType: 'answer',
    intent: 'SportsQuestion:Stats:GameResult',
  },
  tokenizationScore: {
    max: 2,
    median: 2,
    average: 2,
  },
  type: 'nlgAnswerNotPossibleVisualsRequired',
} as unknown as GameraEplBoxScore

if (!data) return NOT_FOUND_404
if (data.type === 'error') return NOT_FOUND_404

const boxscoreData = data.visual.detail[0] as EplHistoricalBoxScore
const homeTeam = boxscoreData.homeTeam
const awayTeam = boxscoreData.awayTeam

const subject = data.visual.summary.subject
const preferredDomain = domain.toLowerCase()

const plays = orderBy(
  boxscoreData.gameSummary.map((play) => ({
    ...play,
    minuteRaw: play.minute.split("'").reduce((t, c) => t + Number(c), 0),
  })),
  'minuteRaw',
)

const playsByPeriod = groupBy(plays, 'period')

const homeGoals = plays.filter(
  (p) =>
    (p.eventType === 'goal' || p.eventType === 'pen_goal') &&
    p.team === homeTeam.name,
)
const awayGoals = plays.filter(
  (p) =>
    (p.eventType === 'goal' || p.eventType === 'pen_goal') &&
    p.team === homeTeam.name,
)

const homeTeamGoals = plays
  .filter(
    (p) =>
      (p.eventType === 'goal' || p.eventType === 'pen_goal') &&
      p.team === homeTeam.name,
  )
  .map((p) => p.playerName)
const awayTeamGoals = plays
  .filter(
    (p) =>
      (p.eventType === 'goal' || p.eventType === 'pen_goal') &&
      p.team === awayTeam.name,
  )
  .map((p) => p.playerName)
const homeTeamYellows = plays
  .filter((p) => p.eventType === 'yellow_card' && p.team === homeTeam.name)
  .map((p) => p.playerName)
const awayTeamYellows = plays
  .filter((p) => p.eventType === 'yellow_card' && p.team === awayTeam.name)
  .map((p) => p.playerName)
const homeTeamReds = plays
  .filter((p) => p.eventType === 'red_card' && p.team === homeTeam.name)
  .map((p) => p.playerName)
const awayTeamReds = plays
  .filter((p) => p.eventType === 'red_card' && p.team === awayTeam.name)
  .map((p) => p.playerName)
const homeTeamSubIns = plays
  .filter((p) => p.eventType === 'substitution' && p.team === homeTeam.name)
  .map((p) => p.playerName)
const awayTeamSubIns = plays
  .filter((p) => p.eventType === 'substitution' && p.team === awayTeam.name)
  .map((p) => p.playerName)
const homeTeamSubOuts = plays
  .filter((p) => p.eventType === 'substitution' && p.team === homeTeam.name)
  .map((p) => p.relatedPlayerName)
const awayTeamSubOuts = plays
  .filter((p) => p.eventType === 'substitution' && p.team === awayTeam.name)
  .map((p) => p.relatedPlayerName)

const homeSubs = orderBy(
  homeTeam.lineup?.filter(
    (p) => !p.isStarter && homeTeamSubIns.includes(p.entity.display),
  ),
  'shirtNumber',
)
const homeBench = orderBy(
  homeTeam.lineup?.filter(
    (p) => !p.isStarter && !homeTeamSubIns.includes(p.entity.display),
  ),
  'shirtNumber',
)

const awaySubs = orderBy(
  awayTeam.lineup?.filter(
    (p) => !p.isStarter && awayTeamSubIns.includes(p.entity.display),
  ),
  'shirtNumber',
)
const awayBench = orderBy(
  awayTeam.lineup?.filter(
    (p) => !p.isStarter && !awayTeamSubIns.includes(p.entity.display),
  ),
  'shirtNumber',
)

const homeTeamStats = boxscoreData.teamDetail.homeTeam
const awayTeamStats = boxscoreData.teamDetail.awayTeam

const homeTeamColors = homeTeam.lineup[0].colors
const awayTeamColors = awayTeam.lineup[0].colors

const meta = {
  title: tokensToText(data.nlg.text.answer),
  pageType: 'game',
  facebook: {
    imageUrl: imageForgeUrl({
      url: data.visual.summary.subject.imageUrl,
      bgColor: subject.colors.background,
      type: 'facebook',
    }),
  },
  twitter: {
    imageUrl: imageForgeUrl({
      url: data.visual.summary.subject.imageUrl,
      bgColor: subject.colors.background,
      type: 'twitter',
    }),
  },
}

Caching.swr(Astro)
---

<Layout
  colors={{ foreground: '#000', background: '#e0e0e0' }}
  {meta}
  analytics={{
    is_search: true,
    page_domain: preferredDomain as AnalyticsPageviewProperties['page_domain'],
    page_type: 'game',
  }}
>
  <Header {preferredDomain} share={{ url: Astro.url.href }} />
  <Container class="mb-5 bg-team-primary text-team-secondary py-5 space-y-5">
    <div class="flex gap-2 md:gap-8 md:items-center justify-center">
      <div
        class="flex-1 flex flex-col-reverse md:flex-row gap-1 md:gap-4 items-center justify-end"
      >
        <div class="text-center md:text-right">
          <h1 class="font-semibold md:text-3xl">
            {homeTeam.name}
          </h1>
          <p class="text-xs">{homeTeam.record}</p>
        </div>
        <Image
          class="w-20 h-20 object-contain"
          src={homeTeam.logoUrl}
          alt={homeTeam.abbrev}
          width={200}
          height={200}
          loading="eager"
        />
      </div>
      <div class="h-fit flex items-center gap-4 md:gap-8 mt-5 md:mt-0">
        <p class="text-4xl font-semibold">
          {homeTeam.score}
        </p>
        <p class="text-xs mx-4">{boxscoreData.completedGameStatus}</p>
        <p class="text-4xl font-semibold">
          {awayTeam.score}
        </p>
      </div>
      <div
        class="flex-1 flex flex-col-reverse md:flex-row-reverse gap-1 md:gap-4 items-center justify-end"
      >
        <div class="text-center md:text-left">
          <h1 class="font-semibold md:text-3xl">
            {awayTeam.name}
          </h1>
          <p class="text-xs">{awayTeam.record}</p>
        </div>
        <Image
          class="w-20 h-20 object-contain"
          src={awayTeam.logoUrl}
          alt={awayTeam.abbrev}
          width={200}
          height={200}
          loading="eager"
        />
      </div>
    </div>
    <div class="flex items-start justify-center">
      <div class="flex-1 text-right mx-0.5">
        {
          homeGoals.map((play) => (
            <p class="text-sm">{`${play.playerName.split(' ')[1]} ${
              play.minute
            }`}</p>
          ))
        }
      </div>
      <Goal class="w-5 shrink-0 mx-4 md:mx-24" color="#000" />
      <div class="flex-1 mx-0.5">
        {
          awayGoals.map((play) => (
            <p class="text-sm">{`${play.playerName.split(' ')[1]} ${
              play.minute
            }`}</p>
          ))
        }
      </div>
    </div>
  </Container>
  <Container>
    <div
      class="grid grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))] gap-5 mb-5"
    >
      <div>
        <p class="font-semibold text-[#b8b8b8]">Timeline</p>
        <div
          class="flex justify-between bg-team-primary text-team-secondary rounded py-1.5"
        >
          <div class="flex items-center">
            <Image
              class="w-4 h-4 mx-1.5 object-contain"
              src={homeTeam.logoUrl}
              alt={homeTeam.abbrev}
              width={50}
              height={50}
              loading="eager"
            />
            <span class="text-xs">{homeTeam.abbrev}</span>
          </div>
          <div class="flex items-center flex-row-reverse">
            <Image
              class="w-4 h-4 mx-1.5 object-contain"
              src={awayTeam.logoUrl}
              alt={awayTeam.abbrev}
              width={50}
              height={50}
              loading="eager"
            />
            <span class="text-xs">{awayTeam.abbrev}</span>
          </div>
        </div>
        <div>
          {
            (() => {
              const renderPlays = (
                plays: EplHistoricalBoxScore['gameSummary'],
              ) =>
                plays.map((play) => (
                  <div
                    class:list={[
                      'flex items-center py-0.5 border-b border-[#c7c8ca]',
                      { 'flex-row-reverse': play.team === awayTeam.name },
                    ]}
                  >
                    <span
                      class:list={[
                        'w-8 relative',
                        {
                          'ml-1': play.team !== awayTeam.name,
                          'mr-1': play.team === awayTeam.name,
                        },
                      ]}
                    >
                      {(() => {
                        const [minute, extraTime] = play.minute.split('+')
                        if (extraTime) {
                          return (
                            <>
                              {minute}
                              <span class="text-xs absolute">
                                +{extraTime.replace("'", '')}
                              </span>
                            </>
                          )
                        }
                        return minute
                      })()}
                    </span>
                    {play.eventType === 'yellow_card' ? (
                      <span class="inline-block h-4 w-4 bg-yellow-300  mx-2" />
                    ) : play.eventType === 'red_card' ? (
                      <span class="inline-block h-4 w-4 bg-red-600 mr-2" />
                    ) : play.eventType === 'yellow_red_card' ? (
                      <div>
                        <span class="inline-block h-4 w-4 bg-yellow-300  mx-2" />
                        <span class="inline-block h-4 w-4 bg-red-600 mr-2" />
                      </div>
                    ) : play.eventType === 'goal' ||
                      play.eventType === 'penalty_goal' ||
                      play.eventType === 'own_goal' ? (
                      <Goal
                        class="w-5 mx-2 shrink-0"
                        color={
                          play.eventType === 'own_goal' ? '#ed1c24' : '#000'
                        }
                      />
                    ) : play.eventType === 'substitution' ? (
                      <Substitution class="w-5 mx-2 shrink-0" />
                    ) : null}
                    {play.eventType !== 'substitution' ? (
                      <p>{play.playerName}</p>
                    ) : (
                      <div
                        class:list={{
                          'text-right': play.team === awayTeam.name,
                        }}
                      >
                        <p class="text-[#00a14b]">{play.playerName}</p>
                        <p class="text-[#ed1c24]">{play.relatedPlayerName}</p>
                      </div>
                    )}
                  </div>
                ))

              return (
                <>
                  {renderPlays(playsByPeriod['1st Half'])}
                  <div class="text-center text-[0.8rem] text-[#969ca1] uppercase tracking-[0.07rem] py-1.5 border-b border-[#c7c8ca]">
                    half time
                  </div>
                  {renderPlays(playsByPeriod['2nd Half'])}
                  <div class="text-center text-[0.8rem] text-[#969ca1] uppercase tracking-[0.07rem] py-1.5 border-b border-[#c7c8ca]">
                    full time
                  </div>
                </>
              )
            })()
          }
        </div>
      </div>
      <div>
        <p class="font-semibold text-[#b8b8b8]">Lineups</p>
        <SoccerLineup
          homeTeam={{
            name: homeTeam.abbrev,
            logoUrl: homeTeam.logoUrl,
            formation: homeTeamStats.formation,
            lineup: homeTeam.lineup,
            goals: homeTeamGoals,
            yellows: homeTeamYellows,
            reds: homeTeamReds,
            subOuts: homeTeamSubOuts,
          }}
          awayTeam={{
            name: awayTeam.abbrev,
            logoUrl: awayTeam.logoUrl,
            formation: awayTeamStats.formation,
            lineup: awayTeam.lineup,
            goals: awayTeamGoals,
            yellows: awayTeamYellows,
            reds: awayTeamReds,
            subOuts: awayTeamSubOuts,
          }}
        />
        <div class="flex justify-between py-1.5 mt-2 q">
          <div class="flex items-center">
            <Image
              class="w-4 h-4 mx-1.5 object-contain"
              src={homeTeam.logoUrl}
              alt={homeTeam.abbrev}
              width={50}
              height={50}
              loading="eager"
            />
            <span class="text-xs">{homeTeam.abbrev}</span>
          </div>
          <p class="text-xs uppercase">substitutes</p>
          <div class="flex items-center flex-row-reverse">
            <Image
              class="w-4 h-4 mx-1.5 object-contain"
              src={awayTeam.logoUrl}
              alt={awayTeam.abbrev}
              width={50}
              height={50}
              loading="eager"
              q
            />
            <span class="text-xs">{awayTeam.abbrev}</span>
          </div>
        </div>
        <div class="flex">
          <div class="flex-1">
            {
              homeSubs.map((player) => (
                <div class="flex items-center">
                  <>
                    <p class="w-[19px] mx-1">{player.shirtNumber}</p>
                    <p>{player.entity.display}</p>
                    <SubArrow class="w-3 h-3" color="#00a14b" />
                    {homeTeamYellows.includes(player.entity.display) && (
                      <div class="w-2 h-3 bg-yellow-300" />
                    )}
                    {homeTeamReds.includes(player.entity.display) && (
                      <div class="w-2 h-3 bg-red-600" />
                    )}
                    {homeTeamGoals.includes(player.entity.display) && (
                      <Goal class="w-3 h-3" color="#000" />
                    )}
                  </>
                </div>
              ))
            }
            {
              homeBench.map((player) => (
                <div class="flex items-center">
                  <>
                    <p class="w-[19px] mx-1">{player.shirtNumber}</p>
                    <p>{player.entity.display}</p>
                  </>
                </div>
              ))
            }
          </div>
          <div class="flex-1">
            {
              awaySubs.map((player) => (
                <div class="flex flex-row-reverse items-center">
                  <>
                    <p class="w-[19px] mx-1">{player.shirtNumber}</p>
                    <p>{player.entity.display}</p>
                    <SubArrow class="w-3 h-3" color="#00a14b" />
                    {awayTeamYellows.includes(player.entity.display) && (
                      <div class="w-2 h-3 bg-yellow-300" />
                    )}
                    {awayTeamReds.includes(player.entity.display) && (
                      <div class="w-2 h-3 bg-red-600" />
                    )}
                    {awayTeamGoals.includes(player.entity.display) && (
                      <Goal class="w-3 h-3" color="#000" />
                    )}
                  </>
                </div>
              ))
            }
            {
              awayBench.map((player) => (
                <div class="flex flex-row-reverse items-center">
                  <>
                    <p class="w-[19px] mx-1">{player.shirtNumber}</p>
                    <p>{player.entity.display}</p>
                  </>
                </div>
              ))
            }
          </div>
        </div>
      </div>
      <div>
        <p class="font-semibold text-[#b8b8b8]">Stats</p>
        <div
          class="flex justify-between bg-team-primary text-team-secondary rounded py-1.5"
        >
          <div class="flex items-center">
            <Image
              class="w-4 h-4 mx-1.5 object-contain"
              src={homeTeam.logoUrl}
              alt={homeTeam.abbrev}
              width={50}
              height={50}
              loading="eager"
            />
            <span class="text-xs">{homeTeam.abbrev}</span>
          </div>
          <div class="flex items-center flex-row-reverse">
            <Image
              class="w-4 h-4 mx-1.5 object-contain"
              src={awayTeam.logoUrl}
              alt={awayTeam.abbrev}
              width={50}
              height={50}
              loading="eager"
            />
            <span class="text-xs">{awayTeam.abbrev}</span>
          </div>
        </div>
        <p class="text-center py-0.5">Possession %</p>
        <div class="flex pb-1 border-b border-[#c7c8ca]">
          <div
            class="text-xs py-1.5 pl-1.5 rounded-l-full"
            style={{
              width: homeTeamStats.possessionPercentage + '%',
              color: homeTeamColors.foregroundColor,
              backgroundColor: homeTeamColors.backgroundColor,
            }}
          >
            {homeTeamStats.possessionPercentage + '%'}
          </div>
          <div
            class="flex-1 text-team-primary text-xs py-1.5 pr-1.5 rounded-r-full text-right"
            style={{
              color: awayTeamColors.foregroundColor,
              backgroundColor: awayTeamColors.backgroundColor,
            }}
          >
            {awayTeamStats.possessionPercentage + '%'}
          </div>
        </div>

        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.shotsOnTarget}</p>
          <p class="flex-1 text-center">Shots on target</p>
          <p class="mr-1">{awayTeamStats.shotsOnTarget}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.shots}</p>
          <p class="flex-1 text-center">Shots</p>
          <p class="mr-1">{awayTeamStats.shots}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.bigChances}</p>
          <p class="flex-1 text-center">Big chances</p>
          <p class="mr-1">{awayTeamStats.bigChances}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.passes}</p>
          <p class="flex-1 text-center">Passes</p>
          <p class="mr-1">{awayTeamStats.passes}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">
            {
              Math.round(
                (homeTeamStats.passesCompleted / homeTeamStats.passes) * 1000,
              ) /
                10 +
                '%'
            }
          </p>
          <p class="flex-1 text-center">Pass accuracy</p>
          <p class="mr-1">
            {
              Math.round(
                (awayTeamStats.passesCompleted / awayTeamStats.passes) * 1000,
              ) /
                10 +
                '%'
            }
          </p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.touches}</p>
          <p class="flex-1 text-center">Touches</p>
          <p class="mr-1">{awayTeamStats.touches}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.corners}</p>
          <p class="flex-1 text-center">Corners</p>
          <p class="mr-1">{awayTeamStats.corners}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.tackles}</p>
          <p class="flex-1 text-center">Tackles</p>
          <p class="mr-1">{awayTeamStats.tackles}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.clearances}</p>
          <p class="flex-1 text-center">Clearances</p>
          <p class="mr-1">{awayTeamStats.clearances}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.saves}</p>
          <p class="flex-1 text-center">Saves</p>
          <p class="mr-1">{awayTeamStats.saves}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.offsides}</p>
          <p class="flex-1 text-center">Offsides</p>
          <p class="mr-1">{awayTeamStats.offsides}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.fouls}</p>
          <p class="flex-1 text-center">Fouls</p>
          <p class="mr-1">{awayTeamStats.fouls}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.yellowCards}</p>
          <p class="flex-1 text-center">Yellow cards</p>
          <p class="mr-1">{awayTeamStats.yellowCards}</p>
        </div>
        <div class="flex py-0.5 border-b border-[#c7c8ca]">
          <p class="ml-1">{homeTeamStats.redCards}</p>
          <p class="flex-1 text-center">Red cards</p>
          <p class="mr-1">{awayTeamStats.redCards}</p>
        </div>
      </div>
    </div>
  </Container>
</Layout>
