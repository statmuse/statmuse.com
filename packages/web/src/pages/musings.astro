---
import MobileLayout from '@layouts/mobile.astro'
import { listLatestHomeMusings } from '@statmuse/core/musing'
import { Caching } from '@lib/caching'
import MusingsCard from '@components/home/musings-card.astro'

const musings = await listLatestHomeMusings(100)

Caching.swr(Astro)
---

<MobileLayout page="musings">
  <div class="flex-1 mb-5">
    {
      musings && (
        <div class="flex flex-col gap-3">
          {musings.map(async (musing, i) => (
            <MusingsCard {musing} index={i} />
          ))}
        </div>
      )
    }
  </div>
</MobileLayout>
